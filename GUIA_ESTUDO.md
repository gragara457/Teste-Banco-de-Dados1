# üéì GUIA DE ESTUDO PR√ÅTICO - Sistema de Pets

## üß™ **EXERC√çCIOS PR√ÅTICOS PARA APRENDIZADO**

### **üìö N√çVEL 1: CONCEITOS B√ÅSICOS**

#### **Exerc√≠cio 1.1: Entendendo o DOM**
```javascript
// Experimente no console do navegador:

// 1. Buscar elemento por ID
const elemento = document.getElementById('situacao');
console.log(elemento);

// 2. Buscar elemento por classe
const secoesAtivas = document.querySelector('.form-section.active');
console.log(secoesAtivas);

// 3. Buscar m√∫ltiplos elementos
const todosBotoes = document.querySelectorAll('button');
console.log(todosBotoes);

// 4. Alterar conte√∫do
elemento.value = 'perdido';

// 5. Alterar classe
elemento.classList.add('destaque');
elemento.classList.remove('destaque');
```

#### **Exerc√≠cio 1.2: localStorage**
```javascript
// Abra o console e teste:

// 1. Salvar dados
localStorage.setItem('teste', 'Hello World');

// 2. Recuperar dados
const dados = localStorage.getItem('teste');
console.log(dados);

// 3. Salvar objeto
const usuario = { nome: 'Jo√£o', idade: 25 };
localStorage.setItem('usuario', JSON.stringify(usuario));

// 4. Recuperar objeto
const usuarioRecuperado = JSON.parse(localStorage.getItem('usuario'));
console.log(usuarioRecuperado);

// 5. Remover dados
localStorage.removeItem('teste');

// 6. Ver todos os dados salvos
console.log(localStorage);
```

### **üìö N√çVEL 2: FUNCIONALIDADES INTERMEDI√ÅRIAS**

#### **Exerc√≠cio 2.1: Criando Valida√ß√£o Personalizada**
```javascript
// Crie sua pr√≥pria fun√ß√£o de valida√ß√£o:

function validarEmail(email) {
    const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return regex.test(email);
}

function validarCPF(cpf) {
    // Remove pontos e h√≠fens
    cpf = cpf.replace(/[^\d]/g, '');
    
    // Verifica se tem 11 d√≠gitos
    if (cpf.length !== 11) return false;
    
    // Verifica se n√£o √© sequ√™ncia repetida
    if (/^(\d)\1+$/.test(cpf)) return false;
    
    return true; // Implementa√ß√£o simplificada
}

function validarIdade(nascimento) {
    const hoje = new Date();
    const dataNasc = new Date(nascimento);
    const idade = hoje.getFullYear() - dataNasc.getFullYear();
    
    return idade >= 18 && idade <= 120;
}

// Teste as fun√ß√µes:
console.log(validarEmail('teste@email.com')); // true
console.log(validarCPF('123.456.789-10')); // true
console.log(validarIdade('1990-01-01')); // true
```

#### **Exerc√≠cio 2.2: Manipulando Arrays**
```javascript
// Simule dados de pets para praticar:

const pets = [
    { nome: 'Rex', especie: 'cachorro', idade: 3, perdido: true },
    { nome: 'Mimi', especie: 'gato', idade: 2, perdido: false },
    { nome: 'Bob', especie: 'cachorro', idade: 5, perdido: true },
    { nome: 'Luna', especie: 'gato', idade: 1, perdido: false }
];

// 1. Filtrar apenas pets perdidos
const petsPerdidos = pets.filter(pet => pet.perdido);
console.log('Perdidos:', petsPerdidos);

// 2. Mapear apenas nomes
const nomes = pets.map(pet => pet.nome);
console.log('Nomes:', nomes);

// 3. Encontrar pet espec√≠fico
const rex = pets.find(pet => pet.nome === 'Rex');
console.log('Rex:', rex);

// 4. Contar pets por esp√©cie
const contagem = pets.reduce((acc, pet) => {
    acc[pet.especie] = (acc[pet.especie] || 0) + 1;
    return acc;
}, {});
console.log('Contagem:', contagem);

// 5. Ordenar por idade
const ordenadosPorIdade = pets.sort((a, b) => a.idade - b.idade);
console.log('Ordenados:', ordenadosPorIdade);
```

### **üìö N√çVEL 3: FUNCIONALIDADES AVAN√áADAS**

#### **Exerc√≠cio 3.1: Sistema de Eventos Personalizado**
```javascript
// Criar sistema de notifica√ß√µes:

class NotificationSystem {
    constructor() {
        this.listeners = {};
    }
    
    // Adicionar listener
    on(event, callback) {
        if (!this.listeners[event]) {
            this.listeners[event] = [];
        }
        this.listeners[event].push(callback);
    }
    
    // Disparar evento
    emit(event, data) {
        if (this.listeners[event]) {
            this.listeners[event].forEach(callback => callback(data));
        }
    }
    
    // Remover listener
    off(event, callback) {
        if (this.listeners[event]) {
            this.listeners[event] = this.listeners[event].filter(cb => cb !== callback);
        }
    }
}

// Usar o sistema:
const notifier = new NotificationSystem();

// Adicionar listeners
notifier.on('pet-cadastrado', (pet) => {
    console.log(`Pet ${pet.nome} foi cadastrado!`);
});

notifier.on('pet-encontrado', (pet) => {
    console.log(`Pet ${pet.nome} foi encontrado!`);
});

// Disparar eventos
notifier.emit('pet-cadastrado', { nome: 'Rex', especie: 'cachorro' });
notifier.emit('pet-encontrado', { nome: 'Mimi', especie: 'gato' });
```

#### **Exerc√≠cio 3.2: Sistema de Cache**
```javascript
// Implementar cache para melhorar performance:

class DataCache {
    constructor(ttl = 300000) { // 5 minutos por padr√£o
        this.cache = new Map();
        this.ttl = ttl;
    }
    
    set(key, data) {
        const expireTime = Date.now() + this.ttl;
        this.cache.set(key, { data, expireTime });
    }
    
    get(key) {
        const cached = this.cache.get(key);
        
        if (!cached) return null;
        
        if (Date.now() > cached.expireTime) {
            this.cache.delete(key);
            return null;
        }
        
        return cached.data;
    }
    
    clear() {
        this.cache.clear();
    }
    
    size() {
        return this.cache.size;
    }
}

// Usar o cache:
const cache = new DataCache();

// Salvar dados
cache.set('pets-stats', { total: 50, perdidos: 10, encontrados: 40 });

// Recuperar dados
const stats = cache.get('pets-stats');
console.log(stats);
```

---

## üî¨ **AN√ÅLISE DE C√ìDIGO LINHA POR LINHA**

### **üîç Fun√ß√£o `nextSection()` - An√°lise Detalhada**

```javascript
function nextSection(currentSection) {
    // LINHA 1: Declara√ß√£o da fun√ß√£o
    // - 'function' = palavra-chave para declarar fun√ß√£o
    // - 'nextSection' = nome descritivo da fun√ß√£o
    // - 'currentSection' = par√¢metro que recebe n√∫mero da se√ß√£o atual
    
    if (!validateSection(currentSection)) {
        // LINHA 2: Condicional de valida√ß√£o
        // - '!' = operador de nega√ß√£o (NOT)
        // - 'validateSection()' = chama fun√ß√£o de valida√ß√£o
        // - Se valida√ß√£o falhar (retornar false), condi√ß√£o √© true
        
        return;
        // LINHA 3: Sa√≠da antecipada
        // - 'return' sem valor para parar execu√ß√£o
        // - Pattern de "early return" para evitar aninhamento
    }
    
    const current = document.getElementById(`section${currentSection}`);
    // LINHA 4: Busca elemento atual
    // - 'const' = declara√ß√£o de constante (n√£o pode ser reatribu√≠da)
    // - 'document.getElementById()' = m√©todo DOM para buscar por ID
    // - Template literal: `section${currentSection}` vira "section1", "section2", etc.
    
    current.classList.remove('active');
    // LINHA 5: Remove classe CSS
    // - 'classList' = propriedade que gerencia classes do elemento
    // - 'remove()' = m√©todo que remove classe espec√≠fica
    // - Remove visibilidade da se√ß√£o atual
    
    const next = document.getElementById(`section${currentSection + 1}`);
    // LINHA 6: Busca pr√≥xima se√ß√£o
    // - 'currentSection + 1' = incrementa n√∫mero da se√ß√£o
    // - Busca elemento da pr√≥xima se√ß√£o
    
    if (next) {
        // LINHA 7: Verifica se pr√≥xima se√ß√£o existe
        // - JavaScript trata elementos inexistentes como 'null'
        // - 'null' √© considerado falsy, ent√£o if s√≥ executa se elemento existir
        
        next.classList.add('active');
        // LINHA 8: Adiciona classe √† pr√≥xima se√ß√£o
        // - 'add()' = m√©todo que adiciona classe CSS
        // - Torna pr√≥xima se√ß√£o vis√≠vel
    }
}
```

### **üîç Fun√ß√£o `salvarPetNoBanco()` - An√°lise Detalhada**

```javascript
function salvarPetNoBanco(dadosPet) {
    let pets = JSON.parse(localStorage.getItem('petDatabase')) || [];
    // AN√ÅLISE DESSA LINHA:
    // 1. 'localStorage.getItem('petDatabase')' - busca dados salvos
    //    - Retorna string JSON ou null se n√£o existir
    // 2. 'JSON.parse()' - converte string JSON em objeto JavaScript
    //    - Se receber null, gera erro
    // 3. '|| []' - operador OR l√≥gico como fallback
    //    - Se JSON.parse falhar ou retornar null, usa array vazio
    // 4. 'let pets' - declara vari√°vel mut√°vel
    //    - Diferente de 'const', pode ser reatribu√≠da
    
    dadosPet.id = Date.now().toString();
    // AN√ÅLISE:
    // 1. 'Date.now()' - timestamp atual em milissegundos
    //    - Ex: 1726742400000
    // 2. '.toString()' - converte n√∫mero para string
    //    - IDs como string s√£o mais seguros para chaves
    // 3. 'dadosPet.id' - adiciona propriedade ao objeto
    //    - Nota√ß√£o de ponto para acessar/criar propriedades
    
    dadosPet.dataCadastro = new Date().toLocaleString('pt-BR');
    // AN√ÅLISE:
    // 1. 'new Date()' - cria objeto Date com hor√°rio atual
    // 2. '.toLocaleString('pt-BR')' - formata para padr√£o brasileiro
    //    - Ex: "19/09/2024 14:30:45"
    
    pets.push(dadosPet);
    // AN√ÅLISE:
    // 1. '.push()' - m√©todo que adiciona elemento ao final do array
    // 2. Modifica array original (m√©todo mutante)
    
    localStorage.setItem('petDatabase', JSON.stringify(pets));
    // AN√ÅLISE:
    // 1. 'JSON.stringify()' - converte objeto JavaScript em string JSON
    // 2. 'localStorage.setItem()' - salva no armazenamento do navegador
    // 3. Persistente - dados sobrevivem ao fechamento do navegador
    
    return dadosPet.id;
    // AN√ÅLISE:
    // 1. Retorna ID gerado para confirma√ß√£o/refer√™ncia
    // 2. Permite que fun√ß√£o chamadora saiba qual ID foi criado
}
```

---

## üõ†Ô∏è **DEBUGGING E TROUBLESHOOTING**

### **üêõ Problemas Comuns e Solu√ß√µes**

#### **Problema 1: "Cannot read property of null"**
```javascript
// ‚ùå ERRO COMUM:
const elemento = document.getElementById('id-que-nao-existe');
elemento.value = 'teste'; // ERRO: Cannot read property 'value' of null

// ‚úÖ SOLU√á√ÉO:
const elemento = document.getElementById('id-que-nao-existe');
if (elemento) {
    elemento.value = 'teste';
} else {
    console.error('Elemento n√£o encontrado');
}

// üîß ALTERNATIVA COM OPTIONAL CHAINING (ES2020):
elemento?.setAttribute('value', 'teste');
```

#### **Problema 2: localStorage n√£o funciona**
```javascript
// ‚ùå POSS√çVEIS CAUSAS:
// 1. Navegador em modo privado/inc√≥gnito
// 2. Armazenamento local desabilitado
// 3. Cota de armazenamento excedida

// ‚úÖ SOLU√á√ÉO COM VERIFICA√á√ÉO:
function isLocalStorageAvailable() {
    try {
        const test = '__localStorage_test__';
        localStorage.setItem(test, test);
        localStorage.removeItem(test);
        return true;
    } catch (e) {
        return false;
    }
}

if (isLocalStorageAvailable()) {
    // Usar localStorage normalmente
    localStorage.setItem('dados', JSON.stringify(dados));
} else {
    // Fallback para sessionStorage ou cookies
    alert('Armazenamento local n√£o dispon√≠vel');
}
```

#### **Problema 3: Formul√°rio n√£o valida**
```javascript
// ‚ùå ERRO COMUM:
function validarCampo() {
    const valor = document.getElementById('campo').value;
    if (valor == '') { // Compara√ß√£o fraca
        return false;
    }
}

// ‚úÖ SOLU√á√ÉO ROBUSTA:
function validarCampo() {
    const elemento = document.getElementById('campo');
    
    // Verificar se elemento existe
    if (!elemento) return false;
    
    const valor = elemento.value;
    
    // Compara√ß√£o estrita e trim para espa√ßos
    if (valor.trim() === '') {
        return false;
    }
    
    return true;
}
```

### **üîß Ferramentas de Debug**

#### **Console do Navegador**
```javascript
// 1. Log b√°sico
console.log('Valor da vari√°vel:', minhaVariavel);

// 2. Log com estilo
console.log('%c Erro encontrado!', 'color: red; font-size: 16px;');

// 3. Log de tabela
console.table(arrayDeDados);

// 4. Log de tempo
console.time('operacao');
// ... c√≥digo a ser medido ...
console.timeEnd('operacao');

// 5. Log condicional
console.assert(valor > 0, 'Valor deve ser positivo');
```

#### **Breakpoints e Debugging**
```javascript
// 1. Breakpoint manual
function minhaFuncao() {
    debugger; // Pausa execu√ß√£o aqui
    // ... resto do c√≥digo
}

// 2. Logging estrat√©gico
function procesarDados(dados) {
    console.log('Entrada:', dados);
    
    const processados = dados.map(item => {
        console.log('Processando item:', item);
        return transformarItem(item);
    });
    
    console.log('Sa√≠da:', processados);
    return processados;
}
```

---

## üìä **M√âTRICAS E PERFORMANCE**

### **‚ö° Medindo Performance**

```javascript
// 1. Tempo de execu√ß√£o
function medirTempoExecucao(funcao, ...args) {
    const inicio = performance.now();
    const resultado = funcao(...args);
    const fim = performance.now();
    
    console.log(`Execu√ß√£o levou ${fim - inicio} milissegundos`);
    return resultado;
}

// 2. Uso de mem√≥ria (Chrome)
function medirMemoria() {
    if (performance.memory) {
        console.log('Mem√≥ria usada:', performance.memory.usedJSHeapSize / 1024 / 1024, 'MB');
        console.log('Mem√≥ria total:', performance.memory.totalJSHeapSize / 1024 / 1024, 'MB');
        console.log('Limite:', performance.memory.jsHeapSizeLimit / 1024 / 1024, 'MB');
    }
}

// 3. Contagem de opera√ß√µes DOM
let domOperations = 0;

function contarOperacaoDOM(tipo) {
    domOperations++;
    console.log(`Opera√ß√£o DOM #${domOperations}: ${tipo}`);
}

// Usar nos m√©todos DOM
const elemento = document.getElementById('test');
contarOperacaoDOM('getElementById');
```

### **üöÄ Otimiza√ß√µes Aplicadas no Projeto**

#### **1. Minimiza√ß√£o de DOM Queries**
```javascript
// ‚ùå INEFICIENTE - busca elemento m√∫ltiplas vezes:
function atualizarFormulario() {
    document.getElementById('campo1').value = 'valor1';
    document.getElementById('campo1').classList.add('ativo');
    document.getElementById('campo1').focus();
}

// ‚úÖ EFICIENTE - busca uma vez e reutiliza:
function atualizarFormulario() {
    const campo1 = document.getElementById('campo1');
    campo1.value = 'valor1';
    campo1.classList.add('ativo');
    campo1.focus();
}
```

#### **2. Event Delegation**
```javascript
// ‚ùå INEFICIENTE - listener em cada bot√£o:
document.querySelectorAll('.botao').forEach(botao => {
    botao.addEventListener('click', handleClick);
});

// ‚úÖ EFICIENTE - um listener no container:
document.getElementById('container').addEventListener('click', function(e) {
    if (e.target.classList.contains('botao')) {
        handleClick(e);
    }
});
```

---

## üéØ **DESAFIOS PARA PRATICAR**

### **üèÜ Desafio 1: Melhorar Valida√ß√£o**
Implemente valida√ß√µes mais robustas:
- CPF v√°lido para telefone
- Email v√°lido para contato alternativo
- Data n√£o pode ser futura para pets perdidos
- Upload e preview de foto do pet

### **üèÜ Desafio 2: Funcionalidades Avan√ßadas**
Adicione novas funcionalidades:
- Sistema de favoritos
- Busca por localiza√ß√£o (GPS)
- Sistema de matches (pets perdidos vs encontrados)
- Notifica√ß√µes push

### **üèÜ Desafio 3: Performance**
Otimize a aplica√ß√£o:
- Virtualiza√ß√£o da tabela para muitos registros
- Lazy loading de imagens
- Service Worker para cache
- Debouncing nos filtros de busca

### **üèÜ Desafio 4: Acessibilidade**
Torne a aplica√ß√£o acess√≠vel:
- Navega√ß√£o por teclado
- ARIA labels apropriados
- Contraste de cores adequado
- Suporte a screen readers

---

## üìö **RECURSOS PARA APROFUNDAMENTO**

### **üìñ Documenta√ß√£o Oficial**
- [MDN Web Docs](https://developer.mozilla.org/) - Refer√™ncia completa
- [W3C Standards](https://www.w3.org/) - Especifica√ß√µes web
- [Can I Use](https://caniuse.com/) - Compatibilidade de navegadores

### **üõ†Ô∏è Ferramentas de Desenvolvimento**
- **Chrome DevTools**: Debug, performance, network
- **VSCode Extensions**: ESLint, Prettier, Live Server
- **Lighthouse**: Auditoria de qualidade e performance

### **üìö Conceitos para Estudar Mais**
1. **JavaScript Avan√ßado**: Promises, Async/Await, Modules
2. **Design Patterns**: Observer, Factory, Singleton
3. **Testing**: Unit tests, Integration tests, E2E
4. **Build Tools**: Webpack, Vite, Rollup
5. **Frameworks**: React, Vue, Angular (para compara√ß√£o)

---

**üéâ Parab√©ns por chegar at√© aqui!** Este guia fornece uma base s√≥lida para entender e expandir o sistema de cadastro de pets. Continue praticando e experimentando com os conceitos apresentados!