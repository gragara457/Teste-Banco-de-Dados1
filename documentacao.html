<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentação - FMU Canids</title>
    <link rel="stylesheet" href="estilos.css">
    <link rel="stylesheet" href="admin-style.css">
    <style>
        .doc-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .doc-section {
            background: white;
            margin-bottom: 2rem;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .doc-section h2 {
            color: #007bff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .doc-section h3 {
            color: #333;
            margin-top: 1.5rem;
        }
        .code-block {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .file-tree {
            background: #2d3748;
            color: #a0aec0;
            padding: 1rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            color: #856404;
            font-weight: bold;
        }
        .tabs {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 2rem;
        }
        .tab {
            padding: 1rem 2rem;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }
        .tab.active {
            background: white;
            border-bottom-color: #007bff;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin: 2rem 0;
        }
        .nav-btn {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            border: none;
            cursor: pointer;
        }
        .nav-btn:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <header>
        <h1>FMU CANIDS - Documentação Técnica</h1>
    </header>

    <main>
        <!-- Tela de Login para Documentação -->
        <section id="doc-login-section" class="admin-section active">
            <div class="login-container">
                <h2>🔐 Acesso à Documentação</h2>
                <p>Digite a senha para acessar a documentação técnica completa</p>
                
                <div class="form-group">
                    <label for="doc-password">Senha da Documentação:</label>
                    <input type="password" id="doc-password" placeholder="Digite a senha">
                </div>
                
                <button onclick="acessarDocumentacao()" class="login-btn">Acessar Documentação</button>
                <a href="Teste banco de dados.html" class="back-link">← Voltar ao Cadastro</a>
                
                <div style="margin-top: 2rem; padding: 1rem; background: #e7f3ff; border-radius: 4px; font-size: 14px;">
                    <strong>💡 Dica para Desenvolvedores:</strong> A senha é <code>estudo</code><br>
                    <strong>🔐 Senha Admin:</strong> usuário = <code>login</code>, senha = <code>login</code>
                </div>
            </div>
        </section>

        <!-- Área da Documentação -->
        <section id="doc-content" class="admin-section">
            <div class="doc-container">
                <div class="nav-buttons">
                    <button onclick="voltarLogin()" class="nav-btn">🔒 Sair</button>
                    <button onclick="window.print()" class="nav-btn">🖨️ Imprimir</button>
                </div>

                <!-- Abas de Navegação -->
                <div class="tabs">
                    <button class="tab active" onclick="showTab('overview')">📋 Visão Geral</button>
                    <button class="tab" onclick="showTab('architecture')">🏗️ Arquitetura</button>
                    <button class="tab" onclick="showTab('functions')">⚙️ Funções</button>
                    <button class="tab" onclick="showTab('database')">💾 Banco de Dados</button>
                    <button class="tab" onclick="showTab('examples')">💡 Exemplos</button>
                </div>

                <!-- Conteúdo: Visão Geral -->
                <div id="tab-overview" class="tab-content active">
                    <div class="doc-section">
                        <h2>📋 Visão Geral do Sistema</h2>
                        
                        <h3>🎯 Objetivo do Projeto</h3>
                        <p>Sistema completo de cadastro e gerenciamento de pets perdidos/encontrados, desenvolvido com tecnologias web puras (HTML, CSS, JavaScript vanilla) e armazenamento local.</p>
                        
                        <h3>🏗️ Estrutura de Arquivos</h3>
                        <div class="file-tree">
📁 Teste Banco de Dados/
├── 📄 Teste banco de dados.html    # Página principal (formulário)
├── 🎨 estilos.css                  # Estilos principais
├── ⚙️ Teste banco de dados.js      # Lógica do formulário
├── 👨‍💼 admin.html                  # Página administrativa
├── 🎨 admin-style.css              # Estilos da administração
├── ⚙️ admin.js                     # Lógica administrativa
├── 📚 documentacao.html            # Esta página
├── 📚 DOCUMENTACAO.md              # Documentação completa
├── 🎓 GUIA_ESTUDO.md               # Guia de estudos
├── 🎨 estilos_comentado.css        # CSS comentado
└── ⚙️ javascript_comentado.js      # JS comentado
                        </div>

                        <h3>🔄 Fluxo da Aplicação</h3>
                        <div class="code-block">
1. USUÁRIO acessa página principal
2. Preenche formulário em 3 etapas
3. Sistema VALIDA dados em tempo real
4. Dados são SALVOS no localStorage
5. ADMINISTRADOR acessa área restrita
6. Visualiza, filtra e EXPORTA dados
7. DESENVOLVEDOR acessa documentação
                        </div>

                        <h3>🚀 Tecnologias Utilizadas</h3>
                        <ul>
                            <li><span class="highlight">HTML5</span>: Semântica moderna, inputs específicos</li>
                            <li><span class="highlight">CSS3</span>: Flexbox, Grid, Animations, Responsive</li>
                            <li><span class="highlight">JavaScript ES6+</span>: Arrow functions, Template literals</li>
                            <li><span class="highlight">localStorage</span>: Persistência no navegador</li>
                            <li><span class="highlight">JSON</span>: Serialização de dados</li>
                        </ul>
                    </div>
                </div>

                <!-- Conteúdo: Arquitetura -->
                <div id="tab-architecture" class="tab-content">
                    <div class="doc-section">
                        <h2>🏗️ Arquitetura do Sistema</h2>

                        <h3>📱 Padrão MVC Adaptado</h3>
                        <div class="code-block">
MODEL (Dados):
- localStorage como "banco de dados"
- JSON para estrutura dos dados
- Funções CRUD: salvar, obter, atualizar, excluir

VIEW (Interface):
- HTML semântico para estrutura
- CSS para apresentação e layout  
- Animações e transições suaves

CONTROLLER (Lógica):
- JavaScript para interatividade
- Validação de formulários
- Navegação entre seções
                        </div>

                        <h3>🔧 Principais Componentes</h3>
                        <ul>
                            <li><strong>Sistema de Formulário Multi-Seção</strong>: Navegação progressive disclosure</li>
                            <li><strong>Sistema de Validação</strong>: Validação em tempo real por seção</li>
                            <li><strong>Sistema de Mensagens</strong>: Feedback visual com auto-remove</li>
                            <li><strong>Sistema de Autenticação</strong>: Login simples para áreas restritas</li>
                            <li><strong>Sistema de Exportação</strong>: Geração de CSV para Excel</li>
                        </ul>
                    </div>
                </div>

                <!-- Conteúdo: Funções -->
                <div id="tab-functions" class="tab-content">
                    <div class="doc-section">
                        <h2>⚙️ Principais Funções</h2>

                        <h3>💾 Banco de Dados Local</h3>
                        <div class="code-block">
<strong>salvarPetNoBanco(dadosPet)</strong>
- Gera ID único (timestamp)
- Adiciona data de cadastro
- Salva no localStorage
- Retorna ID gerado

<strong>obterTodosPets()</strong>
- Recupera todos os pets salvos
- Retorna array ou array vazio
- Trata casos de dados inexistentes
                        </div>

                        <h3>✅ Sistema de Validação</h3>
                        <div class="code-block">
<strong>validateSection(sectionNumber)</strong>
- Valida campos obrigatórios por seção
- Seção 1: situacao, especie, genero
- Seção 2: porte
- Seção 3: telefone, data + validação específica

<strong>showError(message)</strong>
- Cria elemento de erro dinamicamente
- Insere na seção ativa
- Remove automaticamente após 5s
- Evita acúmulo de mensagens
                        </div>

                        <h3>🔄 Navegação e UX</h3>
                        <div class="code-block">
<strong>nextSection(currentSection)</strong>
- Valida antes de avançar
- Troca classes CSS (active)
- Usa template literals para IDs

<strong>formatPhoneNumber(input)</strong>
- Remove caracteres não numéricos
- Aplica máscara (XX) XXXXX-XXXX
- Formatação em tempo real
- Usa RegExp para padrões
                        </div>
                    </div>
                </div>

                <!-- Conteúdo: Banco de Dados -->
                <div id="tab-database" class="tab-content">
                    <div class="doc-section">
                        <h2>💾 Estrutura do Banco de Dados</h2>

                        <h3>📊 Modelo de Dados</h3>
                        <div class="code-block">
{
  "petDatabase": [
    {
      "id": "1726742400000",           // Timestamp único
      "situacao": "perdido",           // "perdido" | "achado"
      "especie": "cachorro",           // "gato" | "cachorro" | "passaro"
      "genero": "macho",               // "macho" | "femea"
      "raca": "Labrador",              // Texto livre
      "porte": "grande",               // "pequeno" | "medio" | "grande"
      "cor": "dourado",                // Texto livre
      "nome": "Rex",                   // Texto livre
      "descricao": "Muito dócil",      // Texto livre
      "endereco": "Rua A, 123",        // Texto livre
      "data": "2024-09-19",            // Data no formato YYYY-MM-DD
      "telefone": "(11) 99999-9999",   // Formatado automaticamente
      "dataCadastro": "19/09/24 14:30" // Timestamp de criação
    }
  ]
}
                        </div>

                        <h3>🔍 Operações CRUD</h3>
                        <div class="code-block">
<strong>CREATE (Criar)</strong>
- salvarPetNoBanco(): Adiciona novo pet
- Gera ID único, adiciona timestamps
- Valida dados antes de salvar

<strong>READ (Ler)</strong>  
- obterTodosPets(): Lista todos os pets
- Filtros por situacao, especie, nome
- Estatísticas automáticas

<strong>UPDATE (Atualizar)</strong>
- Não implementado (feature futura)
- Seria: atualizarPet(id, novosDados)

<strong>DELETE (Excluir)</strong>
- excluirPet(id): Remove pet específico
- Confirmação antes de excluir
- Atualiza interface automaticamente
                        </div>

                        <h3>📤 Exportação de Dados</h3>
                        <div class="code-block">
<strong>Formato CSV:</strong>
ID,Situacao,Nome,Especie,Genero,Raca,Porte,Cor,Descricao,Endereco,Data_Ocorrencia,Telefone,Data_Cadastro

<strong>Processo:</strong>
1. Mapeia dados para array de arrays
2. Remove vírgulas dos textos (;)
3. Envolve campos com aspas duplas
4. Cria Blob com BOM para acentos
5. Gera URL temporária para download
                        </div>
                    </div>
                </div>

                <!-- Conteúdo: Exemplos -->
                <div id="tab-examples" class="tab-content">
                    <div class="doc-section">
                        <h2>💡 Exemplos Práticos</h2>

                        <h3>🔧 Testando no Console</h3>
                        <div class="code-block">
// Abra o console do navegador (F12) e teste:

// 1. Ver dados salvos
console.log(localStorage.getItem('petDatabase'));

// 2. Contar pets cadastrados
const pets = JSON.parse(localStorage.getItem('petDatabase')) || [];
console.log('Total de pets:', pets.length);

// 3. Filtrar pets perdidos
const perdidos = pets.filter(p => p.situacao === 'perdido');
console.log('Pets perdidos:', perdidos);

// 4. Buscar por nome
const rex = pets.find(p => p.nome.includes('Rex'));
console.log('Pets com "Rex":', rex);
                        </div>

                        <h3>🎨 Modificando Estilos</h3>
                        <div class="code-block">
// Exemplo: Mudar cor do tema
document.documentElement.style.setProperty('--primary-color', '#28a745');

// Exemplo: Adicionar efeito hover
const botoes = document.querySelectorAll('button');
botoes.forEach(btn => {
    btn.addEventListener('mouseenter', () => {
        btn.style.transform = 'scale(1.05)';
    });
});
                        </div>

                        <h3>🆕 Adicionando Funcionalidades</h3>
                        <div class="code-block">
// Exemplo: Contador de pets em tempo real
function atualizarContador() {
    const pets = JSON.parse(localStorage.getItem('petDatabase')) || [];
    const contador = document.getElementById('contador-pets');
    if (contador) {
        contador.textContent = `${pets.length} pets cadastrados`;
    }
}

// Exemplo: Busca em tempo real
function buscarPets(termo) {
    const pets = JSON.parse(localStorage.getItem('petDatabase')) || [];
    return pets.filter(pet => 
        pet.nome.toLowerCase().includes(termo.toLowerCase()) ||
        pet.descricao.toLowerCase().includes(termo.toLowerCase())
    );
}
                        </div>

                        <h3>🐛 Debug e Troubleshooting</h3>
                        <div class="code-block">
// Verificar se localStorage está disponível
if (typeof(Storage) !== "undefined") {
    console.log("localStorage está disponível");
} else {
    console.log("localStorage NÃO está disponível");
}

// Limpar dados de teste
localStorage.removeItem('petDatabase');

// Ver tamanho dos dados salvos
const dados = localStorage.getItem('petDatabase');
if (dados) {
    console.log('Tamanho dos dados:', dados.length, 'caracteres');
}
                        </div>
                    </div>
                </div>

                <div class="nav-buttons">
                    <a href="Teste banco de dados.html" class="nav-btn">🐕 Ir para Cadastro</a>
                    <a href="admin.html" class="nav-btn">👨‍💼 Área Admin</a>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Credenciais para documentação
        const DOC_PASSWORD = 'estudo';
        
        // Função de acesso à documentação
        function acessarDocumentacao() {
            const password = document.getElementById('doc-password').value;
            
            if (!password) {
                alert('Por favor, digite a senha.');
                return;
            }
            
            if (password === DOC_PASSWORD) {
                document.getElementById('doc-login-section').classList.remove('active');
                document.getElementById('doc-content').classList.add('active');
            } else {
                alert('Senha incorreta!\n\nDica: A senha é "estudo"');
                document.getElementById('doc-password').value = '';
            }
        }
        
        // Função para voltar ao login
        function voltarLogin() {
            if (confirm('Deseja sair da documentação?')) {
                document.getElementById('doc-content').classList.remove('active');
                document.getElementById('doc-login-section').classList.add('active');
                document.getElementById('doc-password').value = '';
            }
        }
        
        // Sistema de abas
        function showTab(tabName) {
            // Remover classe active de todas as abas e conteúdos
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Ativar aba e conteúdo selecionados
            event.target.classList.add('active');
            document.getElementById(`tab-${tabName}`).classList.add('active');
        }
        
        // Permitir acesso com Enter
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('doc-password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    acessarDocumentacao();
                }
            });
        });
    </script>
</body>
</html>